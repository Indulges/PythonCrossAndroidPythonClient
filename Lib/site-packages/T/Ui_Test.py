# coding=utf-8
import subprocess
import time

import grpc

import BaseType_pb2
import Ui_pb2_grpc
class Ui_Test():
    def __init__(self, channel):
        self.stub = Ui_pb2_grpc.UiServiceStub(channel)

    def click_by_text(self, text):
        return self.stub.clickByText(BaseType_pb2.STRING(text = text))

    def click_home(self):
        return self.stub.clickHome(BaseType_pb2.VOID())

    def click_back(self):
        return self.stub.clickBack(BaseType_pb2.VOID())


if __name__ == '__main__':
    subprocess.Popen("adb forward tcp:8888 tcp:8888")
    channel = grpc.insecure_channel('localhost:8888')
    # 调用 rpc 服务gfit
    ui = Ui_Test(channel)
    ui.click_home()
    time.sleep(1)
    ui.click_by_text('Gallery')
    time.sleep(1)
    ui.click_back()
